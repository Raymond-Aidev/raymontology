# ML ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ ì„¤ê³„ì„œ

**ë²„ì „**: v1.0
**ì‘ì„±ì¼**: 2026-02-08
**ìƒíƒœ**: ì„¤ê³„ ì™„ë£Œ

---

## 1. ê°œìš”

### 1.1 ëª©ì 
ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ML íŒŒì´í”„ë¼ì¸ì„ **ëª¨ë‹ˆí„°ë§, íŠœë‹, ì¬í•™ìŠµ**í•  ìˆ˜ ìˆëŠ” ê´€ë¦¬ ëŒ€ì‹œë³´ë“œ.
ê¸°ì¡´ RaymondsIndex ê´€ë¦¬ì í˜ì´ì§€(`/admin`)ì— **ML íƒ­**ì„ ì¶”ê°€í•˜ëŠ” ë°©ì‹.

### 1.2 ëŒ€ìƒ ì‚¬ìš©ì
- ê´€ë¦¬ì (superuser) ì „ìš©

### 1.3 ê¸°ì¡´ ì‹œìŠ¤í…œ í†µí•©
| í•­ëª© | í˜„ì¬ ìƒíƒœ | ë³€ê²½ |
|------|----------|------|
| ê´€ë¦¬ì í˜ì´ì§€ | `/admin` (users, database, quality 3íƒ­) | **ml íƒ­ ì¶”ê°€** |
| ML API | `/api/ml/predictions` (ê³µê°œ 3ê°œ) | **ê´€ë¦¬ API 9ê°œ ì¶”ê°€** |
| ì¸ì¦ | `require_admin()` ë¯¸ë“¤ì›¨ì–´ ì¡´ì¬ | ê·¸ëŒ€ë¡œ ì‚¬ìš© |

---

## 2. ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  raymondsindex-web/app/admin/page.tsx                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚Users â”‚ â”‚ Database â”‚ â”‚ Quality â”‚ â”‚   ML Management    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚                                      â”‚ 4ê°œ ì„œë¸ŒíŒ¨ë„      â”‚   â”‚
â”‚                                      â”‚ â‘  ëª¨ë¸ í˜„í™©      â”‚   â”‚
â”‚                                      â”‚ â‘¡ ì˜ˆì¸¡ ë¶„í¬      â”‚   â”‚
â”‚                                      â”‚ â‘¢ í”¼ì²˜ ëª¨ë‹ˆí„°ë§  â”‚   â”‚
â”‚                                      â”‚ â‘£ í•™ìŠµ ì œì–´      â”‚   â”‚
â”‚                                      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚ HTTPS (admin token)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Backend API (FastAPI)                                       â”‚
â”‚                                                              â”‚
â”‚  /api/admin/ml/overview         â† ëŒ€ì‹œë³´ë“œ ìš”ì•½              â”‚
â”‚  /api/admin/ml/models           â† ëª¨ë¸ ëª©ë¡/ë¹„êµ             â”‚
â”‚  /api/admin/ml/models/{id}/activate  â† í™œì„± ëª¨ë¸ ë³€ê²½       â”‚
â”‚  /api/admin/ml/features/stats   â† í”¼ì²˜ NULL/ë¶„í¬ í†µê³„        â”‚
â”‚  /api/admin/ml/predictions/distribution â† ì˜ˆì¸¡ ë¶„í¬          â”‚
â”‚  /api/admin/ml/predictions/validation  â† ê±°ë˜ì •ì§€ íƒì§€ìœ¨     â”‚
â”‚  /api/admin/ml/config           â† í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°íšŒ/ìˆ˜ì •   â”‚
â”‚  /api/admin/ml/train            â† í•™ìŠµ ì‹¤í–‰ (POST)          â”‚
â”‚  /api/admin/ml/train/status     â† í•™ìŠµ ì§„í–‰ ìƒí™©            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â”‚
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚  PostgreSQL DB  â”‚
                    â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
                    â”‚  â”‚ ml_featuresâ”‚ â”‚
                    â”‚  â”‚ ml_models  â”‚ â”‚
                    â”‚  â”‚ risk_pred  â”‚ â”‚
                    â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 3. Backend API ì„¤ê³„

### 3.1 íŒŒì¼ êµ¬ì¡°

```
backend/app/api/endpoints/
â”œâ”€â”€ ml_predictions.py          # ê¸°ì¡´ (ê³µê°œ API 3ê°œ)
â””â”€â”€ ml_admin.py                # ì‹ ê·œ (ê´€ë¦¬ API 9ê°œ)
```

### 3.2 API ì—”ë“œí¬ì¸íŠ¸ ìƒì„¸

#### GET `/api/admin/ml/overview`
**ëŒ€ì‹œë³´ë“œ ìš”ì•½ ì •ë³´** - ML íƒ­ ì§„ì… ì‹œ ì²« í™”ë©´ ë°ì´í„°

```json
{
  "active_model": {
    "version": "v2.0.0",
    "type": "ensemble_xgb_lgb",
    "auc_roc": 0.8558,
    "precision_at_10": 0.7541,
    "recall": 0.7764,
    "brier_score": 0.1573,
    "training_date": "2026-02-08",
    "training_samples": 3021,
    "feature_count": 26
  },
  "prediction_summary": {
    "total_companies": 3021,
    "distribution": {
      "CRITICAL": 845,
      "HIGH": 213,
      "MEDIUM": 305,
      "LOW": 1658
    },
    "last_prediction_date": "2026-02-08"
  },
  "feature_health": {
    "total_features": 26,
    "healthy": 20,
    "warning": 4,
    "critical": 2,
    "avg_null_rate": 12.3
  },
  "detection_rates": {
    "suspended_critical": 83.9,
    "managed_critical_high": 78.7
  }
}
```

---

#### GET `/api/admin/ml/models`
**ëª¨ë¸ ë²„ì „ ëª©ë¡ + ì„±ëŠ¥ ë¹„êµ**

```json
{
  "models": [
    {
      "id": "uuid",
      "version": "v2.0.0",
      "type": "ensemble_xgb_lgb",
      "is_active": true,
      "auc_roc": 0.8558,
      "precision_at_10": 0.7541,
      "recall": 0.7764,
      "brier_score": 0.1573,
      "training_date": "2026-02-08",
      "training_samples": 3021
    },
    {
      "id": "uuid",
      "version": "v1.0.0",
      "is_active": false,
      "auc_roc": 0.8142,
      ...
    }
  ]
}
```

---

#### POST `/api/admin/ml/models/{version}/activate`
**í™œì„± ëª¨ë¸ ë³€ê²½** (A/B ì „í™˜)

```json
// Request: ì—†ìŒ (URL pathë§Œ)
// Response:
{
  "success": true,
  "activated_version": "v1.0.0",
  "deactivated_version": "v2.0.0",
  "message": "ëª¨ë¸ v1.0.0 í™œì„±í™” ì™„ë£Œ. ë°°ì¹˜ ì¶”ë¡  ì¬ì‹¤í–‰ì´ í•„ìš”í•©ë‹ˆë‹¤."
}
```

---

#### GET `/api/admin/ml/features/stats`
**í”¼ì²˜ë³„ NULL ë¹„ìœ¨, ë¶„í¬ í†µê³„**

```json
{
  "total_records": 3021,
  "feature_date": "2024-12-31",
  "features": [
    {
      "name": "exec_count",
      "category": "officer",
      "null_count": 0,
      "null_rate": 0.0,
      "mean": 8.3,
      "std": 4.2,
      "min": 0,
      "max": 45,
      "health": "healthy"
    },
    {
      "name": "shareholder_change_1y",
      "category": "shareholder",
      "null_count": 1968,
      "null_rate": 65.1,
      "mean": -0.42,
      "std": 5.8,
      "min": -47.0,
      "max": 27.39,
      "health": "warning"
    }
  ],
  "health_thresholds": {
    "healthy": "< 10% NULL",
    "warning": "10-50% NULL",
    "critical": "> 50% NULL"
  }
}
```

---

#### GET `/api/admin/ml/predictions/distribution`
**ì˜ˆì¸¡ í™•ë¥  ë¶„í¬ (íˆìŠ¤í† ê·¸ë¨ ë°ì´í„°)**

```json
{
  "histogram": [
    {"range": "0.0-0.1", "count": 892, "pct": 29.5},
    {"range": "0.1-0.2", "count": 451, "pct": 14.9},
    {"range": "0.2-0.3", "count": 315, "pct": 10.4},
    ...
    {"range": "0.9-1.0", "count": 187, "pct": 6.2}
  ],
  "by_risk_level": {
    "CRITICAL": {"count": 845, "pct": 28.0, "avg_prob": 0.823},
    "HIGH": {"count": 213, "pct": 7.1, "avg_prob": 0.587},
    "MEDIUM": {"count": 305, "pct": 10.1, "avg_prob": 0.391},
    "LOW": {"count": 1658, "pct": 54.9, "avg_prob": 0.112}
  },
  "by_market": {
    "KOSPI": {"CRITICAL": 312, "HIGH": 88, "MEDIUM": 134, "LOW": 780},
    "KOSDAQ": {"CRITICAL": 533, "HIGH": 125, "MEDIUM": 171, "LOW": 878}
  }
}
```

---

#### GET `/api/admin/ml/predictions/validation`
**ëª¨ë¸ ê²€ì¦ - ê±°ë˜ì •ì§€/ê´€ë¦¬ì¢…ëª© íƒì§€ìœ¨**

```json
{
  "suspended_detection": {
    "total_suspended": 354,
    "by_risk_level": {
      "CRITICAL": {"count": 297, "pct": 83.9},
      "HIGH": {"count": 26, "pct": 7.3},
      "MEDIUM": {"count": 8, "pct": 2.3},
      "LOW": {"count": 23, "pct": 6.5}
    }
  },
  "managed_detection": {
    "total_managed": 89,
    "by_risk_level": {
      "CRITICAL": {"count": 67, "pct": 75.3},
      "HIGH": {"count": 3, "pct": 3.4},
      "MEDIUM": {"count": 3, "pct": 3.4},
      "LOW": {"count": 16, "pct": 18.0}
    }
  },
  "false_negative_analysis": {
    "suspended_not_critical": 57,
    "sample_companies": [
      {"ticker": "000000", "name": "ê¸°ì—…ëª…", "risk_level": "LOW", "prob": 0.12}
    ]
  }
}
```

---

#### GET `/api/admin/ml/config`
**í˜„ì¬ í•˜ì´í¼íŒŒë¼ë¯¸í„° ì¡°íšŒ**

```json
{
  "model": {
    "use_xgboost": true,
    "use_lightgbm": true,
    "use_catboost": false,
    "xgb_params": {
      "max_depth": 6,
      "learning_rate": 0.1,
      "n_estimators": 100,
      "subsample": 0.8,
      "scale_pos_weight": 8
    },
    "lgb_params": {
      "max_depth": 6,
      "learning_rate": 0.1,
      "n_estimators": 100
    },
    "test_size": 0.2,
    "cv_folds": 5,
    "use_smote": true
  },
  "features": {
    "use_officer_features": true,
    "use_cb_features": true,
    "use_shareholder_features": true,
    "use_index_features": true
  },
  "risk_levels": {
    "LOW": [0.0, 0.3],
    "MEDIUM": [0.3, 0.5],
    "HIGH": [0.5, 0.7],
    "CRITICAL": [0.7, 1.0]
  },
  "editable_params": [
    "xgb_params.max_depth",
    "xgb_params.learning_rate",
    "xgb_params.n_estimators",
    "lgb_params.max_depth",
    "lgb_params.learning_rate",
    "lgb_params.n_estimators",
    "test_size",
    "cv_folds",
    "use_smote",
    "risk_levels"
  ]
}
```

---

#### PUT `/api/admin/ml/config`
**í•˜ì´í¼íŒŒë¼ë¯¸í„° ìˆ˜ì •** (ë‹¤ìŒ í•™ìŠµì— ì ìš©)

```json
// Request:
{
  "xgb_params": {
    "max_depth": 8,
    "n_estimators": 200
  },
  "risk_levels": {
    "CRITICAL": [0.65, 1.0]
  }
}

// Response:
{
  "success": true,
  "updated_params": ["xgb_params.max_depth", "xgb_params.n_estimators", "risk_levels.CRITICAL"],
  "message": "ì„¤ì • ì €ì¥ ì™„ë£Œ. ì¬í•™ìŠµ ì‹œ ì ìš©ë©ë‹ˆë‹¤."
}
```

---

#### POST `/api/admin/ml/train`
**í•™ìŠµ ì‹¤í–‰ íŠ¸ë¦¬ê±°**

```json
// Request:
{
  "version": "v3.0.0",
  "run_batch_prediction": true,
  "config_overrides": {}
}

// Response:
{
  "task_id": "train_20260208_180000",
  "status": "started",
  "message": "í•™ìŠµì´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤. /api/admin/ml/train/statusì—ì„œ ì§„í–‰ ìƒí™©ì„ í™•ì¸í•˜ì„¸ìš”."
}
```

---

#### GET `/api/admin/ml/train/status`
**í•™ìŠµ ì§„í–‰ ìƒí™©**

```json
{
  "task_id": "train_20260208_180000",
  "status": "training",
  "phase": "model_training",
  "progress": 65,
  "phases": [
    {"name": "data_loading", "status": "completed", "duration_sec": 3},
    {"name": "feature_preparation", "status": "completed", "duration_sec": 1},
    {"name": "model_training", "status": "in_progress", "progress": 65},
    {"name": "evaluation", "status": "pending"},
    {"name": "batch_prediction", "status": "pending"}
  ],
  "started_at": "2026-02-08T18:00:00",
  "elapsed_sec": 120,
  "estimated_remaining_sec": 180
}
```

---

## 4. Frontend ì„¤ê³„

### 4.1 TabType í™•ì¥

```typescript
// ê¸°ì¡´
type TabType = 'users' | 'database' | 'quality';
// ë³€ê²½
type TabType = 'users' | 'database' | 'quality' | 'ml';
```

### 4.2 ML íƒ­ ë ˆì´ì•„ì›ƒ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ML Management                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ ğŸ“Š Overview Cards (4ê°œ)                                â”‚  â”‚
â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚ â”‚ AUC-ROC  â”‚ â”‚ ì˜ˆì¸¡ìˆ˜   â”‚ â”‚ í”¼ì²˜ê±´ê°• â”‚ â”‚ íƒì§€ìœ¨   â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ 0.8558   â”‚ â”‚ 3,021    â”‚ â”‚ 20/26    â”‚ â”‚ 83.9%    â”‚  â”‚  â”‚
â”‚  â”‚ â”‚ v2.0.0   â”‚ â”‚ CRITICAL:â”‚ â”‚ healthy  â”‚ â”‚ SUSPENDEDâ”‚  â”‚  â”‚
â”‚  â”‚ â”‚          â”‚ â”‚ 845(28%) â”‚ â”‚          â”‚ â”‚          â”‚  â”‚  â”‚
â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€ Sub-tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ [ëª¨ë¸ ë¹„êµ] [ì˜ˆì¸¡ ë¶„í¬] [í”¼ì²˜ ëª¨ë‹ˆí„°ë§] [í•™ìŠµ ì œì–´]    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ (ì„ íƒëœ ì„œë¸Œíƒ­ ì½˜í…ì¸ )                                 â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 4.3 ì„œë¸Œ íŒ¨ë„ ìƒì„¸

#### íŒ¨ë„ 1: ëª¨ë¸ ë¹„êµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Model Versions                                          â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Version â”‚ AUC   â”‚ P@10  â”‚ Recallâ”‚ Brier â”‚ Status â”‚   â”‚
â”‚ â”‚ v2.0.0  â”‚ .8558 â”‚ .7541 â”‚ .7764 â”‚ .1573 â”‚ â— í™œì„±â”‚   â”‚
â”‚ â”‚ v1.0.0  â”‚ .8142 â”‚ .7049 â”‚ .7826 â”‚ .1773 â”‚ â—‹     â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚ [v1.0.0 í™œì„±í™”] â† ëª¨ë¸ ì „í™˜ ë²„íŠ¼                        â”‚
â”‚                                                         â”‚
â”‚ ê²€ì¦ ê²°ê³¼                                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ SUSPENDED íƒì§€ìœ¨: 297/354 (83.9%)    â”‚               â”‚
â”‚ â”‚ ê´€ë¦¬ì¢…ëª© íƒì§€ìœ¨: 70/89 (78.7%)       â”‚               â”‚
â”‚ â”‚ False Negative: 57ê°œ                  â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### íŒ¨ë„ 2: ì˜ˆì¸¡ ë¶„í¬

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Prediction Distribution                                 â”‚
â”‚                                                         â”‚
â”‚ í™•ë¥  íˆìŠ¤í† ê·¸ë¨ (bar chart)                             â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ  0.0-0.1: 892    â”‚               â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ           0.1-0.2: 451    â”‚               â”‚
â”‚ â”‚ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ              0.2-0.3: 315    â”‚               â”‚
â”‚ â”‚ ...                                   â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚ ë“±ê¸‰ë³„ ë¶„í¬ (donut chart)                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚   CRITICAL 28.0%  â”‚  HIGH 7.1%      â”‚               â”‚
â”‚ â”‚   MEDIUM  10.1%   â”‚  LOW  54.9%     â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                         â”‚
â”‚ ì‹œì¥ë³„ ë¶„í¬ (stacked bar)                               â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚ â”‚ KOSPI  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘          â”‚               â”‚
â”‚ â”‚ KOSDAQ â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘            â”‚               â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### íŒ¨ë„ 3: í”¼ì²˜ ëª¨ë‹ˆí„°ë§

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Feature Health Monitor                                  â”‚
â”‚                                                         â”‚
â”‚ [ì¹´í…Œê³ ë¦¬ í•„í„°] Officer | CB | Shareholder | Index | Allâ”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ Feature              â”‚ NULL% â”‚ Mean  â”‚ Health    â”‚   â”‚
â”‚ â”‚ exec_count           â”‚  0.0% â”‚  8.3  â”‚ ğŸŸ¢       â”‚   â”‚
â”‚ â”‚ exec_turnover_rate   â”‚  0.0% â”‚  0.12 â”‚ ğŸŸ¢       â”‚   â”‚
â”‚ â”‚ exec_avg_tenure      â”‚  2.1% â”‚ 23.4  â”‚ ğŸŸ¢       â”‚   â”‚
â”‚ â”‚ ...                  â”‚       â”‚       â”‚           â”‚   â”‚
â”‚ â”‚ shareholder_change_1yâ”‚ 65.1% â”‚ -0.42 â”‚ ğŸŸ¡       â”‚   â”‚
â”‚ â”‚ related_party_ratio  â”‚ 48.1% â”‚  5.2  â”‚ ğŸŸ¡       â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                         â”‚
â”‚ ê±´ê°• ìš”ì•½: ğŸŸ¢ 20ê°œ | ğŸŸ¡ 4ê°œ | ğŸ”´ 2ê°œ                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### íŒ¨ë„ 4: í•™ìŠµ ì œì–´

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Training Control                                        â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€ Hyperparameters â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ XGBoost                                            â”‚ â”‚
â”‚ â”‚   max_depth:      [  6  ] â–¼                        â”‚ â”‚
â”‚ â”‚   learning_rate:  [ 0.1 ]                          â”‚ â”‚
â”‚ â”‚   n_estimators:   [ 100 ]                          â”‚ â”‚
â”‚ â”‚   scale_pos_weight: [ 8 ]                          â”‚ â”‚
â”‚ â”‚                                                    â”‚ â”‚
â”‚ â”‚ LightGBM                                           â”‚ â”‚
â”‚ â”‚   max_depth:      [  6  ] â–¼                        â”‚ â”‚
â”‚ â”‚   learning_rate:  [ 0.1 ]                          â”‚ â”‚
â”‚ â”‚   n_estimators:   [ 100 ]                          â”‚ â”‚
â”‚ â”‚                                                    â”‚ â”‚
â”‚ â”‚ General                                            â”‚ â”‚
â”‚ â”‚   test_size:      [ 0.2 ]                          â”‚ â”‚
â”‚ â”‚   cv_folds:       [  5  ]                          â”‚ â”‚
â”‚ â”‚   use_smote:      [âœ“]                              â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€ Risk Level Thresholds â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ CRITICAL: [ 0.70 ] ~ 1.0                          â”‚ â”‚
â”‚ â”‚ HIGH:     [ 0.50 ] ~ 0.70                         â”‚ â”‚
â”‚ â”‚ MEDIUM:   [ 0.30 ] ~ 0.50                         â”‚ â”‚
â”‚ â”‚ LOW:      0.0 ~ 0.30                               â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                         â”‚
â”‚ New Version: [ v3.0.0 ]                                 â”‚
â”‚ [â˜] í•™ìŠµ í›„ ë°°ì¹˜ ì¶”ë¡  ìë™ ì‹¤í–‰                         â”‚
â”‚                                                         â”‚
â”‚ [ ğŸ’¾ ì„¤ì • ì €ì¥ ]  [ ğŸš€ í•™ìŠµ ì‹œì‘ ]                      â”‚
â”‚                                                         â”‚
â”‚ â”Œâ”€ Training Progress â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–“â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 65% - model_training        â”‚ â”‚
â”‚ â”‚ âœ… data_loading (3ì´ˆ)                               â”‚ â”‚
â”‚ â”‚ âœ… feature_preparation (1ì´ˆ)                        â”‚ â”‚
â”‚ â”‚ ğŸ”„ model_training... (120ì´ˆ)                       â”‚ â”‚
â”‚ â”‚ â³ evaluation                                       â”‚ â”‚
â”‚ â”‚ â³ batch_prediction                                 â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 5. DB ë³€ê²½ì‚¬í•­

### 5.1 ì‹ ê·œ í…Œì´ë¸”: `ml_training_jobs`

```sql
CREATE TABLE ml_training_jobs (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    task_id VARCHAR(50) UNIQUE NOT NULL,
    model_version VARCHAR(20) NOT NULL,
    status VARCHAR(20) NOT NULL DEFAULT 'pending',  -- pending, running, completed, failed
    phase VARCHAR(30),                               -- data_loading, training, evaluation, batch_prediction
    progress INTEGER DEFAULT 0,                      -- 0-100
    config_json JSONB,                               -- í•™ìŠµì— ì‚¬ìš©ëœ ì„¤ì •
    result_json JSONB,                               -- í•™ìŠµ ê²°ê³¼ (ì„±ëŠ¥ ì§€í‘œ)
    error_message TEXT,
    started_at TIMESTAMPTZ,
    completed_at TIMESTAMPTZ,
    created_at TIMESTAMPTZ DEFAULT NOW()
);
```

### 5.2 ì‹ ê·œ í…Œì´ë¸”: `ml_config_overrides`

```sql
CREATE TABLE ml_config_overrides (
    id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    config_key VARCHAR(100) NOT NULL,     -- e.g. "xgb_params.max_depth"
    config_value JSONB NOT NULL,          -- e.g. 8
    is_active BOOLEAN DEFAULT TRUE,
    updated_by VARCHAR(100),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);
```

---

## 6. êµ¬í˜„ ìˆœì„œ

### Phase 1: Backend API (ì˜ˆìƒ 3-4ì‹œê°„)
1. `backend/app/api/endpoints/ml_admin.py` ìƒì„±
2. `ml_training_jobs`, `ml_config_overrides` í…Œì´ë¸” ìƒì„±
3. 9ê°œ ì—”ë“œí¬ì¸íŠ¸ êµ¬í˜„
4. `app/main.py`ì— ë¼ìš°í„° ë“±ë¡

### Phase 2: Frontend ML íƒ­ (ì˜ˆìƒ 4-5ì‹œê°„)
1. `TabType`ì— `'ml'` ì¶”ê°€
2. Overview Cards êµ¬í˜„
3. 4ê°œ ì„œë¸Œ íŒ¨ë„ êµ¬í˜„
4. API ì—°ë™ ë° ì°¨íŠ¸ ë Œë”ë§

### Phase 3: í•™ìŠµ ì‹¤í–‰ ì—°ë™ (ì˜ˆìƒ 2-3ì‹œê°„)
1. ë°±ê·¸ë¼ìš´ë“œ í•™ìŠµ í”„ë¡œì„¸ìŠ¤ ê´€ë¦¬
2. ì§„í–‰ ìƒí™© ì‹¤ì‹œê°„ í´ë§
3. ì™„ë£Œ í›„ ìë™ ë°°ì¹˜ ì¶”ë¡  ì—°ë™

---

## 7. ê¸°ìˆ  ìŠ¤íƒ

| ì˜ì—­ | ê¸°ìˆ  | ë¹„ê³  |
|------|------|------|
| **Backend** | FastAPI + SQLAlchemy (async) | ê¸°ì¡´ íŒ¨í„´ |
| **Frontend** | Next.js + TypeScript + Tailwind | ê¸°ì¡´ íŒ¨í„´ |
| **ì°¨íŠ¸** | Recharts | ê¸°ì¡´ ì„¤ì¹˜ë¨ |
| **ìƒíƒœê´€ë¦¬** | React useState + useEffect | ê¸°ì¡´ íŒ¨í„´ |
| **ì¸ì¦** | JWT + require_admin() | ê¸°ì¡´ íŒ¨í„´ |
| **í•™ìŠµ ì‹¤í–‰** | subprocess (ë°±ê·¸ë¼ìš´ë“œ) | ì„œë²„ í”„ë¡œì„¸ìŠ¤ |

---

## 8. ë³´ì•ˆ ê³ ë ¤ì‚¬í•­

- ëª¨ë“  `/api/admin/ml/*` ì—”ë“œí¬ì¸íŠ¸ëŠ” `require_admin()` ì˜ì¡´ì„± í•„ìˆ˜
- í•™ìŠµ ì‹¤í–‰ì€ ë™ì‹œ 1ê°œë§Œ í—ˆìš© (ì¤‘ë³µ ë°©ì§€ lock)
- config ë³€ê²½ ì´ë ¥ ê¸°ë¡ (`ml_config_overrides` í…Œì´ë¸”)
- Risk level threshold ë³€ê²½ ì‹œ ìµœì†Œ/ìµœëŒ€ ì œí•œ ì ìš©
